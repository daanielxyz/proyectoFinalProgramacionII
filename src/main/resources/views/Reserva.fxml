<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>

<StackPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" styleClass="reserva-container" stylesheets="@../style/reserva.css" prefHeight="800" prefWidth="1200">

    <!-- Panel principal con efecto glass -->
    <VBox alignment="TOP_CENTER" spacing="20" styleClass="reserva-panel" maxWidth="Infinity" maxHeight="Infinity" prefWidth="1100" prefHeight="750">
        <padding>
            <Insets bottom="25" left="25" right="25" top="25" />
        </padding>

        <!-- Encabezado con tÃ­tulo y botÃ³n de cerrar sesiÃ³n -->
        <HBox spacing="20" alignment="CENTER_LEFT">
            <Label styleClass="reserva-titulo" text="ðŸ¨ GestiÃ³n de Reservas" wrapText="false" maxWidth="Infinity" />
            <Region HBox.hgrow="ALWAYS" />
            <!-- InformaciÃ³n del saldo -->
            <Label fx:id="lblSaldo" styleClass="saldo-label" text="ðŸ’° Saldo: $0" />
            <Button text="ðŸ’³ Recargar Billetera" onAction="#recargarBilletera" styleClass="wallet-button" />
            <Button text="ðŸšª Cerrar SesiÃ³n" onAction="#cerrarSesion" styleClass="logout-button" />
        </HBox>

        <!-- Separador -->
        <Separator styleClass="modern-separator" prefWidth="1000" />

        <!-- Contenido principal dividido en dos secciones -->
        <HBox spacing="25" alignment="TOP_CENTER" VBox.vgrow="ALWAYS">

            <!-- SecciÃ³n izquierda: BÃºsqueda y creaciÃ³n de reservas -->
            <VBox spacing="20" styleClass="reserva-section" prefWidth="520" VBox.vgrow="ALWAYS">
                <!-- TÃ­tulo de la secciÃ³n -->
                <Label styleClass="seccion-titulo" text="ðŸ” Buscar y Reservar Alojamientos" />

                <!-- BÃºsqueda de alojamientos -->
                <VBox spacing="15">
                    <Label styleClass="info-text" text="Selecciona una ciudad para ver alojamientos disponibles:" />
                    <ComboBox fx:id="cbCiudad" promptText="ðŸŒ† Seleccionar ciudad" styleClass="modern-combo-box" prefWidth="450" />
                    <Button text="ðŸ” Buscar Alojamientos" onAction="#buscarAlojamientos" styleClass="modern-button" prefWidth="200" />
                </VBox>

                <!-- Lista de alojamientos -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <Label styleClass="info-text" text="ðŸ“‹ Alojamientos disponibles:" />
                    <ListView fx:id="lvAlojamientos" onMouseClicked="#mostrarHabitaciones" styleClass="modern-list-view" prefHeight="150" />
                </VBox>

                <!-- Lista de habitaciones -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <Label styleClass="info-text" text="ðŸ›ï¸ Habitaciones disponibles:" />
                    <ListView fx:id="lvHabitaciones" styleClass="modern-list-view" prefHeight="120" />
                </VBox>

                <!-- Formulario de reserva -->
                <VBox spacing="15">
                    <Label styleClass="seccion-titulo" text="ðŸ“… Crear Nueva Reserva" />
                    <DatePicker fx:id="dpFechaEntrada" promptText="ðŸ“… Fecha de entrada" styleClass="modern-date-picker" prefWidth="450" />
                    <DatePicker fx:id="dpFechaSalida" promptText="ðŸ“… Fecha de salida" styleClass="modern-date-picker" prefWidth="450" />
                    <TextField fx:id="txtHuespedes" promptText="ðŸ‘¥ NÃºmero de huÃ©spedes" styleClass="modern-text-field" prefWidth="450" />
                    <Button text="âœ… Confirmar Reserva" onAction="#crearReserva" styleClass="modern-button" prefWidth="250" />
                </VBox>
            </VBox>

            <!-- SecciÃ³n derecha: Mis reservas y reseÃ±as -->
            <VBox spacing="20" styleClass="reserva-section" prefWidth="520" VBox.vgrow="ALWAYS">
                <!-- TÃ­tulo de la secciÃ³n -->
                <Label styleClass="seccion-titulo" text="ðŸ“‹ Mis Reservas" />

                <!-- Lista de reservas del usuario -->
                <VBox spacing="10" VBox.vgrow="ALWAYS">
                    <Label styleClass="info-text" text="Tus reservas actuales y pasadas:" />
                    <ListView fx:id="lvReservas" styleClass="modern-list-view" prefHeight="250" />
                    <Button text="âŒ Cancelar Reserva Seleccionada" onAction="#cancelarReserva" styleClass="danger-button" prefWidth="280" />
                </VBox>

                <!-- Separador -->
                <Separator styleClass="modern-separator" prefWidth="450" />

                <!-- SecciÃ³n de reseÃ±as y valoraciones -->
                <VBox spacing="15">
                    <Label styleClass="seccion-titulo" text="â­ ReseÃ±as y Valoraciones" />

                    <Label styleClass="info-text" text="Comparte tu experiencia:" />
                    <TextField fx:id="txtReseÃ±a" promptText="âœï¸ Escribe tu reseÃ±a aquÃ­..." styleClass="modern-text-field" prefWidth="450" />
                    <Button text="ðŸ“ AÃ±adir ReseÃ±a" onAction="#agregarReseÃ±a" styleClass="info-button" prefWidth="200" />

                    <TextField fx:id="txtValoracion" promptText="â­ ValoraciÃ³n (1-5 estrellas)" styleClass="modern-text-field" prefWidth="450" />
                    <Button text="â­ AÃ±adir ValoraciÃ³n" onAction="#agregarValoracion" styleClass="info-button" prefWidth="200" />
                </VBox>
            </VBox>
        </HBox>
    </VBox>
</StackPane>